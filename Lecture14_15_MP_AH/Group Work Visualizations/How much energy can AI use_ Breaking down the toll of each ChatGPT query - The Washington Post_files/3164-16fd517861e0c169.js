(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3164],{83164:function(e,t,n){(()=>{var t={198:(e,t,n)=>{"use strict";t.__esModule=!0,t.RemoteComponent=void 0;var o=n(955),r=n(908),i=n(247),a=r.createRequires(i.getDependencies);t.RemoteComponent=o.createRemoteComponent({requires:a})},955:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.createRemoteComponent=void 0;var a=i(n(326)),s=n(421);t.createRemoteComponent=function(e){var t=s.createUseRemoteComponent(e);return function(e){var n=e.url,i=e.fallback,s=e.render,l=r(e,["url","fallback","render"]),c=t(n),u=c[0],f=c[1],p=c[2];return u?void 0===i?null:i:s?s({err:f,Component:p}):f||!p?a.default.createElement("div",null,"Unknown Error: ",(f||"UNKNOWN").toString()):a.default.createElement(p,o({},l))}}},908:(e,t)=>{"use strict";t.__esModule=!0,t.createRequires=void 0,t.createRequires=function(e){var t=!1;return function(n){var o;if(t||(e="function"==typeof(o=e)?o():o||{},t=!0),!(n in e))throw Error("Could not require '"+n+"'. '"+n+"' does not exist in dependencies.");return e[n]}}},665:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.fetchRemoteComponent=void 0;var r=o(n(367));t.fetchRemoteComponent=function(e){var t=e.requires,n=e.fetcher,o=e.url,i=e.imports,a=void 0===i?"default":i;return r.default({requires:t,fetcher:n})(o).then(function(e){var t=e&&e[a];if(!t)throw Error("Could not load '"+a+"' from '"+o+"'.");return t})}},247:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.__esModule=!0,t.getDependencies=t.ensureRemoteComponentConfig=void 0,t.ensureRemoteComponentConfig=function(e){var t=e.resolve;if("object"==typeof t&&"remote-component.config.js"in t)return t;var n=o({},t);return n["remote-component.config.js"]={resolve:n},n},t.getDependencies=function(){try{return t.ensureRemoteComponentConfig(n(98))}catch(e){if(!(e&&"string"==typeof e.message&&e.message.indexOf("Cannot find module")>-1))throw e;return{}}}},910:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.getServerSideProps=void 0;var r=o(n(367));t.getServerSideProps=function(e){var t=e.url,n=e.requires,o=e.context,i=e.imports,a=void 0===i?"default":i;return r.default({requires:n})(t).then(function(e){var t=e&&e[a]&&e[a].getServerSideProps;return"function"==typeof t?t(o):{}})}},421:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.createUseRemoteComponent=void 0;var r=n(326),i=o(n(367));t.createUseRemoteComponent=function(e){var t=i.default(e);return function(e,n){void 0===n&&(n="default");var o=r.useState({loading:!0,err:void 0,component:void 0}),i=o[0],a=i.loading,s=i.err,l=i.component,c=o[1];return r.useEffect(function(){var o=c;return o({loading:!0,err:void 0,component:void 0}),t(e).then(function(e){return o({loading:!1,err:void 0,component:e[n]})}).catch(function(e){return o({loading:!1,err:e,component:void 0})}),function(){o=function(){}}},[e]),[a,s,l]}}},850:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]});t.__esModule=!0,t.getServerSideProps=t.fetchRemoteComponent=t.RemoteComponent=t.createRemoteComponent=t.getDependencies=t.createRequires=t.createUseRemoteComponent=void 0,o(t,n(421),"createUseRemoteComponent"),o(t,n(908),"createRequires"),o(t,n(247),"getDependencies"),o(t,n(955),"createRemoteComponent"),o(t,n(198),"RemoteComponent"),o(t,n(665),"fetchRemoteComponent"),o(t,n(910),"getServerSideProps")},367:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]});t.__esModule=!0,t.createRequires=t.default=void 0,o(t,n(309),"createLoadRemoteModule","default"),o(t,n(251),"createRequires")},251:(e,t)=>{"use strict";t.__esModule=!0,t.createRequires=void 0,t.createRequires=function(e){return function(t){var n=e||{};if(!(t in n))throw Error("Could not require '"+t+"'. '"+t+"' does not exist in dependencies.");return n[t]}}},309:(e,t,n)=>{"use strict";t.__esModule=!0,t.createLoadRemoteModule=void 0;var o=n(783),r=n(532),i=n(209),a="undefined"!=typeof window&&void 0!==window.document?i.default:r.default,s=function(e){throw Error("Could not require '"+e+"'. The 'requires' function was not provided.")};t.createLoadRemoteModule=function(e){var t=void 0===e?{}:e,n=t.requires,r=t.fetcher,i=n||s,l=r||a;return(0,o.default)(function(e){return l(e).then(function(e){var t={},n={exports:t};return Function("require","module","exports",e)(i,n,t),n.exports})})}},783:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t={};return function(n){return n in t==0&&(t[n]=e(n)),t[n]}}},532:function(e,t,n){"use strict";var o=this&&this.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};t.__esModule=!0;var r=n(564),i=n(959),a=n(609);t.default=function(e){return new Promise(function(t,n){(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"string"!=typeof e?{on:function(e,t){t(Error("URL must be a string."))}}:0===e.indexOf("https://")?i.get.apply(i,o([e],t,!1)):r.get.apply(r,o([e],t,!1))})(e,function(o){if(o.statusCode!==a.OK)return n(Error("HTTP Error Response: "+o.statusCode+" "+o.statusMessage+" ("+e+")"));var r=null;o.on("data",function(e){null!==r?r+=e:r=e}),o.on("end",function(){return t(r)})}).on("error",n)})}},609:(e,t)=>{"use strict";t.__esModule=!0,t.InternalServerError=t.OK=void 0,t.OK=200,t.InternalServerError=500},209:(e,t,n)=>{"use strict";t.__esModule=!0;var o=n(609),r=n(349);t.default=function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===r.DONE&&(i.status===o.OK?t(i.responseText):n(Error("HTTP Error Response: "+i.status+" "+i.statusText+" ("+e+")")))},i.open("GET",e,!0),i.send()})}},349:(e,t)=>{"use strict";t.__esModule=!0,t.DONE=t.OPENED=t.UNSENT=void 0,t.UNSENT=0,t.OPENED=1,t.DONE=4},98:(e,t,n)=>{e.exports={resolve:{react:n(326),"react-dom":n(501)}}},326:e=>{"use strict";e.exports=n(75271)},501:e=>{"use strict";e.exports=n(30967)},564:()=>{},959:()=>{}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";let e;r.r(i),r.d(i,{default:()=>ej});var t=r(326),n=r.n(t);let o="https://subscribe.digitalink.com",a="https://localhost.digitalink.com:9000",s="https://subscribe.digitalink.com",l="https://subscribe.digitalink.com",c="https://subs-stage.washingtonpost.com",u="https://subs-stage.washingtonpost.com",f="https://subscribe.washingtonpost.com",p="https://www.washingtonpost.com",d={base:o,braintree:`${o}/braintree`,feApp:o,logging:`${o}/logging`,offersService:`${o}/offers/service`,staticAssets:`${o}/static`,wapoHomepage:"https://pb-dev.digitalink.com/pb/homepage",wapoSignin:`${a}/signin`,wapoSignup:`${a}/signup`,wapoSignout:`${a}/signin?action=signout`,mypost:`${a}/my-post`,profile:`${o}/my-post/account/profile`},w={base:s,braintree:`${s}/braintree`,feApp:l,logging:`${s}/logging`,offersService:`${s}/offers/service`,staticAssets:`${s}/static`,wapoHomepage:"https://pb-dev.digitalink.com/pb/homepage",wapoSignin:`${l}/signin`,wapoSignup:`${l}/signup`,wapoSignout:`${l}/signin?action=signout`,mypost:`${l}/my-post`,profile:`${l}/my-post/account/profile`},g={base:c,braintree:`${c}/braintree`,feApp:u,logging:`${c}/logging`,offersService:`${c}/offers/service`,staticAssets:`${c}/static`,wapoHomepage:"https://assembler.preview.now.washingtonpost.com/render/homepage",wapoSignin:`${u}/signin`,wapoSignup:`${u}/signup`,wapoSignout:`${u}/signin?action=signout`,mypost:`${u}/my-post`,profile:`${u}/my-post/account/profile`},m={base:f,braintree:`${f}/braintree`,feApp:p,logging:`${f}/logging`,offersService:`${f}/offers/service`,staticAssets:`${f}/static`,wapoHomepage:p,wapoSignin:`${p}/subscribe/signin`,wapoSignup:`${p}/subscribe/signup`,wapoSignout:`${p}/subscribe/signin?action=signout`,mypost:`${p}/my-post`,profile:`${p}/my-post/account/profile`},y="production";try{y=((e,t)=>{let n={local:"local",test:"development",dev:"development",development:"development",qa:"qa",sandbox:"preproduction",stg:"preproduction",stage:"preproduction",preproduction:"preproduction",prod:"production",production:"production"},o=RegExp("^(?!.*(subs-stage|sandbox|localhost)).*(.washingtonpost.com)"),r="undefined"!=typeof window?window.location.href:"";return t&&n[t]?n[t]:("production"===e||o.test(r),e&&n[e]?n[e]:("production"===e||o.test(r),"production"))})("production","prod")}catch(e){}let v="expectedError",h="failure",b="handledError",S="info",O="success",P="unexpectedError",E={[v]:"logExpectedError",[h]:"logFailure",[b]:"logHandledError",[S]:"logInfo",[O]:"logSuccess",[P]:"logUnexpectedError"},_={local:d,qa:w,development:w,preproduction:g,production:m}[y].logging,C={Accept:"application/json","Content-Type":"application/json"},j=(e,t=["location","message"])=>Object.keys(e).reduce((n,o)=>(-1===t.indexOf(o)&&(n[o]=e[o],e[o]instanceof Error?n[o]=e[o].toString():e[o]instanceof Object&&(n[o]=JSON.stringify(e[o]))),n),{}),M=t=>{if("undefined"==typeof window)return(()=>{function e(){console.error("woops, you are trying to log something in the build step. Move your logger to a use effect, or mark your component as `use client`")}return{logExpectedError:function(){e()},logFailure:function(){e()},logHandledError:function(){e()},logInfo:function(){e()},logSuccess:function(){e()},logUnexpectedError:function(){e()},sendLog:function(){e()}}})();let{appName:n,allowStash:o=!1,allowBeacon:r=!1}=t,i="";if("function"==typeof window.crypto?.randomUUID)try{i=window.crypto.randomUUID()}catch{i="crypto-error-"+Date.now().toString()}else i="crypto-missing-"+Date.now().toString();let a=t.requestId||function(t){if(!function(){if(void 0!==e)return e;try{let t=(new Date).toString();return window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)===t,window.localStorage.removeItem(t),e}catch(e){return!1}}())return null;try{return window.localStorage.getItem(t)}catch(e){return null}}("user_request_id")||i,s=(e=S,t,i,s,l)=>{let c=E[e]||E.info;"undefined"!=typeof window&&document.referrer&&!s.referrer&&(s.referrer=document.referrer),s.requestId||(s.requestId=a),"string"==typeof window.pageType&&(s.pageType=window.pageType);let u=new URLSearchParams(window.location.search).keys(),f={appName:n,locationId:t,message:i||"no message",state:s||{},url:`${window.location.origin}${window.location.pathname}`,queryParamKeys:Array.from(u)};if(l&&(f.errorMessage=l.toString()),o&&(({locationId:e,message:t,logType:n="debug",state:o,data:r,appName:i=""})=>{let a={logType:n,locationId:e,message:t};r&&(a.data=r),o&&(a.state=o),i&&(a.appName=i),"undefined"!=typeof window&&(window.SubsTrack=window.SubsTrack||[],window?.SubsTrack?.push(a),(e=>{let{logType:t="",locationId:n,message:o}=e;if(window?.location?.href?.includes("subsdebugtrue")||window?.location?.hostname?.includes("localhost")||window?.location?.hostname?.includes("digitalink")||window?.location?.hostname?.includes("stage")){let r=`[SubsTrack][${t}] ${n} - ${o}`;switch(t){case"debug":console.debug(r,e);break;case"failure":case"unexpectedError":case"error":console.error(r,e);break;case"warn":console.warn(r,e);break;default:console.log(r,e)}}})(a))})({logType:e,locationId:t,message:i,state:s,data:f}),"function"==typeof window?.navigator?.sendBeacon&&window?.Blob&&r){let e=new Blob([JSON.stringify(f||{})],{type:"application/json"});return navigator.sendBeacon(`${_}/${c}`,e)?Promise.resolve():Promise.reject()}return fetch(`${_}/${c}`,{method:"POST",headers:C,body:JSON.stringify(f||{}),credentials:"include"}).catch(t=>{console.error("Error sending log to Splunk",{err:t,logType:e,data:f})})};return{logExpectedError:e=>{let{location:t,message:n,errorMessage:o}=e,r=j(e,["location","message","errorMessage"]);r.status="failure",s(v,t,n,r,o)},logFailure:e=>{let{location:t,message:n,errorMessage:o}=e,r=j(e,["location","message","errorMessage"]);r.status="failure",s(h,t,n,r,o)},logHandledError:e=>{let{location:t,message:n,errorMessage:o}=e;s(b,t,n,j(e,["location","message","errorMessage"]),o)},logInfo:e=>{let{location:t,message:n}=e;s(S,t,n,j(e)).catch(()=>console.log("error"))},logSuccess:e=>{let{location:t,message:n}=e,o=j(e);o.status="success",s(O,t,n,o)},logUnexpectedError:e=>{let{location:t,message:n,errorMessage:o}=e;s(P,t,n,j(e,["location","message","errorMessage"]),o)},sendLog:s}};var R=function(){return"undefined"!=typeof window&&window.matchMedia("(orientation: landscape)").matches},D=function(){return"undefined"!=typeof window&&window.matchMedia("(orientation: portrait)").matches},A=function(){return"undefined"!=typeof window&&window.matchMedia("(max-width: ".concat(767,"px)")).matches},T=function(){return"undefined"!=typeof window&&window.matchMedia("(min-width: ".concat(768,"px) and (max-width: ").concat(1024,"px)")).matches},L=function(){return"undefined"!=typeof window&&window.matchMedia("(min-width: ".concat(1025,"px)")).matches},k=function(){return!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(min-width: ".concat(1441,"px)")).matches},I=function(){var e,t=(null===(e=window)||void 0===e?void 0:e.location.hostname)||"",n="prod";return/(pb-impact\.|sandbox\.|.preview.now.washingtonpost.com|localhost.washingtonpost.com|subs-stage.washingtonpost.com)/.test(t)?n="sandbox":/dev\.washpost|localhost|digitalink\.com/.test(t)&&(n="dev"),n};function x(){return({prod:"https://www.washingtonpost.com",sandbox:"https://subs-stage.washingtonpost.com",dev:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"https://tetro.digitalink.com":"https://subscribe.digitalink.com"})[I()]}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.searchParams.append(t,n.replace(/(\n|\r|\u2029\|\u000C|\u2028)/gm,"")),e}var $={3:"paywall",6:"softwall",8:"paywall",9:"regwall",200:"osn"};function N(e,t,n){var o,r="dev"!==I()?"/tetro":"",i=e.action,a=({paywall:{endpointTetro:"".concat(r,"/wall/v1/engine/get-paywall")},softwall:{endpointTetro:"".concat(r,"/wall/v1/engine/get-softwall")},regwall:{endpointTetro:"".concat(r,"/wall/v1/engine/get-regwall")},osn:{endpointTetro:"".concat(r,"/wall/v1/engine/get-osn")}}[$[e.action]]||{}).endpointTetro;if(!a)return i>0&&console.info("[WallUI] action code not supported",i),"";var s=function(e,t,n,o,r,i){var a,s,l,c,u,f={},p=new URL(x(!0)+e),d=r.expressCheckoutFastTrack;if(void 0!==d&&d)return U(p,"asJS","1"),U(p,"ct_tags","w_checkout_sheet"),p;if(U(p,"destination",t),U(p,"section",(null===(a=window.wpMetaData)||void 0===a?void 0:a.content_section)||""),U(p,"commercial_node",(null===(s=window.wpMetaData)||void 0===s?void 0:s.commercial_node)||""),f.ct_tags=(null===(l=window.wpMetaData)||void 0===l?void 0:l.ct_tags)||"",U(p,"sct_tags",(null===(c=window.wpMetaData)||void 0===c?void 0:c.sct_tags)||""),U(p,"content_type",(null===(u=window.wpMetaData)||void 0===u?void 0:u.content_type)||""),U(p,"arcId",(null==n?void 0:n._id)||""),U(p,"action",o.toString()),U(p,"refererType",r.data.refererType),(!/NGPW=off/.test(location.search)||/NGPW=on/.test(location.search))&&U(p,"asJS","1"),i){var w={};try{w=i(f)}catch(e){}Object.keys(w).length&&(f=w)}return Object.keys(f).forEach(function(e){U(p,e,f[e])}),p}(a,(null===(o=window)||void 0===o||null===(o=o.wpMetaData)||void 0===o?void 0:o.canonical_url)||"".concat(location.protocol,"//").concat(location.host).concat(location.pathname),t,i,e,n),l=new URL(location.href).searchParams.get("wallPreviewId");return l&&(U(s,"previewId",l),s.searchParams.set("ct_tags",s.searchParams.get("ct_tags")+",".concat(Date.now()))),s.toString()}var q=r(850),W=r(98);function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var F=(0,q.createRequires)(W.resolve),K=(0,q.createUseRemoteComponent)({requires:F,fetcher:function(e){return fetch(e,{credentials:"include"}).then(function(e){if(200===e.status&&e.ok)return e.text();throw Error(e.status+e.statusText)}).catch(console.error)}});function J(e){var o=e.wallState,r=o.componentURL,i=o.wallPreviewUrl,a=e.disableShowByDefault,s=e.wallState;s.wallConfig={};var l,c=function(e){if(Array.isArray(e))return e}(l=K(i||r))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(o=i.call(n)).done)&&(s.push(o.value),3!==s.length);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(l,0)||function(e,t){if(e){if("string"==typeof e)return B(e,3);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,3):void 0}}(l,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],f=c[1],p=c[2];return(0,t.useEffect)(function(){i&&f?e.wallState.setWallPreviewUrl(""):a||e.wallState.setIsShowing(!f)},[f]),u?n().createElement("span",{id:"wall-templates-placeholder",style:{display:"none"}}):null!=f?(i?console.error("[WallUI] error loading preview wall",f,u,e):console.error("[WallUI] error loading wall",f,u,e),null):p?n().createElement(p,H({wallState:s},e)):null}let z="4.5.6";function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t,n){return(t=et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){var t=function(e){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=G(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}var en=function(e){var t;function o(e){var t,n,r,i,a,s,l,c,u,f,p;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(f=o,p=[e],f=X(f),a=function(e,t){if(t&&("object"==G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,V()?Reflect.construct(f,p||[],X(this).constructor):f.apply(this,p))).state={pwapiResponse:e.pwapiResponse,isSmall:A(),isMedium:T(),isLarge:L(),isExtraLarge:k(),isPortrait:D(),isLandscape:R(),isShowing:!1,wallConfig:{},componentURL:null!==(t=e.pwapiResponse)&&void 0!==t&&t.wallOutputName?(s=null===(n=e.pwapiResponse)||void 0===n?void 0:n.wallOutputName,c=(l="prod"===I())?"/subscribe":"",u=l?"":"?_=".concat((new Date).getTime()),"".concat(x()).concat(c,"/pw/").concat(s.replace(/.json|.js|.html/g,""),".js").concat(u)):N(e.pwapiResponse,e.globalContent,e.filterWallSvcParams),wallType:null!=e&&null!==(r=e.pwapiResponse)&&void 0!==r&&r.action?$[null==e||null===(i=e.pwapiResponse)||void 0===i?void 0:i.action]:"",setWallConfig:function(e){return a.setState({wallConfig:e})},setIsShowing:function(e){return a.setState({isShowing:e})},setSizes:function(e){return a.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},offersEngineResponse:e.offersEngineResponse},a}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(o,e),t=[{key:"render",value:function(){var e;return this.state.componentURL?n().createElement("div",{className:"center","data-wall-ui-sideloaded":!0,"data-wall-ui-v":z,style:{zIndex:5}},n().createElement(J,Y({disableShowByDefault:!0!==(null===(e=this.props)||void 0===e?void 0:e.showImmediately),wallState:this.state},this.props))):null}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,et(o.key),o)}}(o.prototype,t),Object.defineProperty(o,"prototype",{writable:!1}),o}(n().Component);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ee(en,"displayName","SideLoader");var er=function(e,t,n){if(window.wallConsumers=window.wallConsumers||[],window.wallConsumerTimer=window.wallConsumerTimer||0,"function"==typeof t&&(n&&window.wallConsumers.length>0&&(window.wallConsumers=window.wallConsumers.filter(function(e){return"object"!==eo(e)||(setTimeout(function(){t(e)},window.wallConsumerTimer),window.wallConsumerTimer+=25,!1)}),window.wallConsumerTimer=0),window.wallConsumers.push(t)),null!==e&&"object"===eo(e))for(var o=function(t){"function"==typeof window.wallConsumers[t]&&(setTimeout(function(){window.wallConsumers[t](e)},window.wallConsumerTimer),window.wallConsumerTimer+=25)},r=0;r<window.wallConsumers.length;r++)o(r)};function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(t){(function(e,t,n){var o;(o=function(e){if("object"!=ei(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ei(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ei(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ec=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&console.log("[MAP] Execute registerWallConsumer for",e),window.registerWallConsumer({action:6,data:el(el({},window.pwapiPaywallResponse.data),{},{action:6}),sideLoad:!0,wallOutputName:e,mapWall:!0})},eu=[".meteredContent","article.article-body"],ef=function(e,t){var n,o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ea(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=!1,s=!0,l="live-blog"===(null===(n=window)||void 0===n||null===(n=n.wpMetaData)||void 0===n?void 0:n.content_type),c=[];r&&console.log("[MAP] scrollDepthHandler start:",e),e.forEach(function(e){var n=e.wallOutputName,o=e.MAP_TYPE,a=e.PRELOAD_MAP,u=e.participant,f=e.MAP_SCROLL_DEPTH_BASE;s=!l&&"content"===f,window.registerDisplay&&window.registerDisplay({participant:u,info:{type:o},status:"ready"}),window.registerDisplay&&window.registerDisplay({participant:u,callback:function(e){if("final"===(null==e?void 0:e.status)&&i.length){var t=i.findIndex(function(t){return t.participant===e.name});-1!==t&&(r&&console.log("[MAP] ".concat(u," removed from scrollDepthHandler")),i.splice(t,1))}}}),r&&console.log("[MAP] ".concat(u," registered to displayFramework")),a&&!t&&n&&c.push(n)});var u=function e(){o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(function(){if(!i.length)return r&&console.log("[MAP] scrollDepthHandler removed"),void window.removeEventListener("scroll",e);a||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"acquisition-map-listener-scroll",category:"acquisition",action:"acquisition-map-listener-scroll"}),c.forEach(function(e){setTimeout(function(){r&&console.log("[MAP] Preload MAP:",e),ec(e,r)})}),a=!0);var n,o,l=null;s&&(o=null,eu.find(function(e){return null!==(o=document.querySelector(e))}),l=o);var u=window.scrollY,f=window.innerHeight,p=0,d=!!l;if(s&&d){var w,g=(null===(w=l)||void 0===w?void 0:w.getBoundingClientRect())||{},m=g.height,y=g.top;p=Math.round(u/(u+(void 0===y?0:y)+(void 0===m?0:m)-f)*100)}else p=Math.round(u/(document.body.offsetHeight-f)*100);if(!((null===(n=i[0])||void 0===n?void 0:n.MAP_SCROLL_DEPTH)>p)){var v=i.reduce(function(e,t){return t.MAP_SCROLL_DEPTH<=p?e.filteredData.push(t):e.unmatchedData.push(t),e},{filteredData:[],unmatchedData:[]}),h=v.filteredData;i=v.unmatchedData,h.length&&h.forEach(function(e){var n=e.wallOutputName,o=e.participant,i=e.MAP_SCROLL_DEPTH,a=e.PRELOAD_MAP;r&&(console.groupCollapsed("[MAP] scroll depth is reached"),console.table(el(el({scrollDepthBase:s&&d?"content":"page"},s?{isContentWrapperPresent:d}:{}),{},{MAP_SCROLL_DEPTH:i,scrollPercentRounded:p,wallOutputName:n})),console.groupEnd()),a||t||!n||ec(n),window.registerDisplay&&window.registerDisplay({participant:o,info:{state:"open"}})})}})};return r&&console.log("[MAP] scrollDepthHandler initiated",{mapData:e,isMetering:t}),window.addEventListener("scroll",u),{callback:u}};function ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ed(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var ew=!1,eg=function(e){var n=e.wallType,o=e.meteringMAPConfig,r=ep((0,t.useState)(!1),2),i=r[0],a=r[1],s=ep((0,t.useState)(!1),2),l=s[0],c=s[1],u=ep((0,t.useState)(null),2),f=u[0],p=u[1],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.registerDisplay){var o=[];e.forEach(function(o,r){var i=o.wallOutputName,a=t?n||"":"map-".concat(i);e[r].participant=a});var r=e.filter(function(e){return e.MAP_ENABLED&&"map_scroll"===e.MAP_TYPE&&e.MAP_SCROLL_DEPTH}).sort(function(e,t){return e.MAP_SCROLL_DEPTH-t.MAP_SCROLL_DEPTH});if(r.length){var i=ef(r,t,ew).callback;i&&o.push({type:"scroll",cb:i})}return o}};return(0,t.useEffect)(function(){ew=new URLSearchParams(window.location.search).has("wallDebug")||!1;var e=function(e){var t;e&&"final"===(null==e?void 0:e.status)&&(null!=e&&e.mapConfigs||(null==e||null===(t=e.mapConfigs)||void 0===t?void 0:t.length)>0)&&p(e.mapConfigs)};window.registerMAPConfigConsumer?window.registerMAPConfigConsumer(e):(window.mapConfigConsumers=window.mapConfigConsumers||[],window.mapConfigConsumers.push(e))},[]),(0,t.useEffect)(function(){if(f&&Array.isArray(f)&&!l){var e=d(f);return c(!0),function(){f&&e&&(null==e?void 0:e.length)>0&&e.forEach(function(e){ew&&console.log("[MAP] MAP callbacks removed",e),window.removeEventListener(e.type,e.cb)})}}},[f]),(0,t.useEffect)(function(){var e,t;if(o&&!i){var r=(null===(e=window)||void 0===e?void 0:e.dQ)||{};if("final"!==(null==r||null===(t=r.participantStatus)||void 0===t||null===(t=t[n||""])||void 0===t?void 0:t.status)){var s=d([o],!0);return a(!0),function(){o&&s&&(null==s?void 0:s.length)>0&&s.forEach(function(e){ew&&console.log("[MAP] Metering MAP callbacks removed",e),window.removeEventListener(e.type,e.cb)})}}}},[o]),null},em=["filterWallSvcParams"];function ey(){return(ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){e_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eO=function(){return!!e})()}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eE(e,t){return(eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e_(e,t,n){return(t=eC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eC(e){var t=function(e){if("object"!=eS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=eS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eS(t)?t:t+""}var ej=function(e){var t;function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e_((r=o,i=[e],r=eP(r),n=function(e,t){if(t&&("object"==eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,eO()?Reflect.construct(r,i||[],eP(this).constructor):r.apply(this,i))),"logger",void 0),e_(n,"waitForOfferConsumer",function(){return new Promise(function(e,t){var n=function(n){"object"===eS(n)&&"SUCCESS"===n.status?e(n):"FAILURE"===n.status&&t(Error("offer failure"))};window.registerOfferConsumer?window.registerOfferConsumer(n):(window.offerConsumers=window.offerConsumers||[],window.offerConsumers.push(n))})}),e_(n,"fetchOfferEligibilityEngineResponse",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{setPerformanceMark:!0}).setPerformanceMark,t=void 0===e||e;n.state.offerEligibilityFetchStarted||null!==n.state.offersEngineResponse||(n.setState({offerEligibilityFetchStarted:!0}),Promise.race([n.waitForOfferConsumer(),new Promise(function(e,t){return setTimeout(function(){return t(Error("offer timeout"))},1e3)})]).then(function(e){t&&n.performanceMark("SUBS - offer response"),n.setState({offersEngineResponse:e})}).catch(function(e){t&&n.performanceMark("SUBS - offer response");var o=e instanceof Error?e.message:"offer response error";n.logger.logHandledError({location:"fetchOfferEligibilityEngineResponse",message:o}),console.error(e),n.setState({offersEngineResponse:{}})}))}),e_(n,"performanceMark",function(e){try{"undefined"!=typeof window&&"undefined"!=typeof performance&&window.performance.mark(e)}catch(e){}}),e_(n,"wallTypes",["paywall","softwall","regwall"]),e_(n,"wallType",""),e_(n,"checkDisplayStatus",function(e){n.wallType===e.name&&!0===e.readyDisplay&&n.setState({isDisplayable:!0})}),e_(n,"gatherData",function(e){if(!0!==(null==e?void 0:e.sideLoad)){if(!(null===e||"error"===(null==e?void 0:e.status)||void 0===(null==e?void 0:e.action)||(null==e?void 0:e.action)<=100&&"final"!==(null==e?void 0:e.status)||(null==e?void 0:e.action)>100&&"SUCCESS"!==(null==e?void 0:e.status))){if(0!==(null==e?void 0:e.action)){var t,o={},r=function(e){var t,n=new URLSearchParams(location.search),o=e.action,r=n.get("wallAction"),i=3===o&&"3"!==r||9===o&&"9"!==r||o>100,a=n.get("wallOutput");if(!i&&a){var s=(new Date).getTime(),l="prod"===I()?"/subscribe":"";t="".concat(x()).concat(l,"/pw/").concat(a.replace(/.json|.js|.html/g,""),".js?_=").concat(s)}return{pwapiRespAction:parseInt(!i&&r||o),wallPreviewUrl:t}}(e),i=r.wallPreviewUrl,a=r.pwapiRespAction,s=e.action!==a||void 0!==i;e.action=a,e.data.action=a,6===e.action&&(t=function e(t){var n;if(window.wpMetaData=window.wpMetaData||{},t.lineItemId)window.wpMetaData.adTrackerId=t.lineItemId,n=t.lineItemId;else{var o=t.slot;if(o&&o.getResponseInformation){var r=(o.getResponseInformation()||{}).sourceAgnosticLineItemId;window.wpMetaData.adTrackerId=r,n=r}}n&&(window.googletag.pubads().removeEventListener("slotRenderEnded",e),window.googletag.pubads().removeEventListener("impressionViewable",e))},window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",t)}),window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("impressionViewable",t)}));var l,c=N(e,n.props.globalContent),u=$[a]||"";n.wallType=u,a>0&&a<=100&&null!=(null===(l=window.dQ)||void 0===l?void 0:l.status)?""!==u&&!1===n.state.isRegistered&&(window.registerDisplay({participant:u,callback:n.checkDisplayStatus}),o.isRegistered=!0):o.isDisplayable=!0;var f=a>0||void 0!==i;o=eh(eh({},o),{},{componentURL:c,isShowing:f,pwapiResponse:e,wallType:u,wallPreviewUrl:i,wallConfig:{}}),s&&""!==u&&window.registerDisplay&&window.registerDisplay({participant:u,status:"ready"}),6===a?setTimeout(function(){n.setState(o,function(){n.performanceMark("SUBS - wall invoked"),n.fetchOfferEligibilityEngineResponse()})},3500):n.setState(o,function(){n.performanceMark("SUBS - wall invoked"),n.fetchOfferEligibilityEngineResponse()})}else n.fetchOfferEligibilityEngineResponse({setPerformanceMark:!1})}}else{if(n.state.sideLoadedWalls.find(function(t){return void 0!==(null==t?void 0:t.wallOutputName)&&(null==t?void 0:t.wallOutputName)===(null==e?void 0:e.wallOutputName)}))return;var p,d=e.filterWallSvcParams,w=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if(({}).hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,em);n.setState({sideLoadedWalls:[].concat(function(e){if(Array.isArray(e))return eb(e)}(p=n.state.sideLoadedWalls)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||function(e,t){if(e){if("string"==typeof e)return eb(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eb(e,void 0):void 0}}(p)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{filterWallSvcParams:d,pwapiResponse:w,showImmediately:!0===(null==e?void 0:e.sideLoadImmediately)}])})}}),n.state={pwapiResponse:{},isSmall:A(),isMedium:T(),isLarge:L(),isExtraLarge:k(),isPortrait:D(),isLandscape:R(),isShowing:!1,isDisplayable:!1,wallConfig:{},componentURL:"",wallType:"",isRegistered:!1,setComponentURL:function(e){return n.setState({componentURL:e})},setWallConfig:function(e){return n.setState({wallConfig:e})},setIsShowing:function(e){return n.setState({isShowing:e})},setWallPreviewUrl:function(e){return n.setState({wallPreviewUrl:e})},setSizes:function(e){return n.setState(eh({},e))},sideLoadedWalls:[],offersEngineResponse:null!==(t=n.props.offerData)&&void 0!==t?t:null,offerEligibilityFetchStarted:!1,meteringMAPConfig:null,setMeteringMAPConfig:function(e){return n.setState({meteringMAPConfig:e})}},n.logger=M({appName:"wall-ui"}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}(o,e),t=[{key:"componentDidMount",value:function(){window.registerPwapiConsumer?window.registerPwapiConsumer(this.gatherData):(window.consumers=window.consumers||[],window.consumers.push(this.gatherData)),window.registerWallConsumer=er,window.registerWallConsumer(null,this.gatherData,!0),window.isWallConsumerSideLoadingSupported=!0,window.registerDisplay&&window.registerDisplay({participant:"wall-ui",queueable:!1,info:{alwaysRunCallback:!0},status:"ready"})}},{key:"render",value:function(){var e=this,t=this.state,o=t.componentURL,r=t.isDisplayable,i=t.isShowing,a=t.sideLoadedWalls,s=t.wallPreviewUrl,l=t.offersEngineResponse;return"undefined"==typeof window||null===l?null:n().createElement(n().Fragment,null,n().createElement(eg,{wallType:this.state.wallType,meteringMAPConfig:this.state.meteringMAPConfig}),i&&r&&(o||s)&&n().createElement("div",{className:"center","data-wall-ui-v":z,style:{zIndex:5}},n().createElement(J,ey({wallState:this.state},this.props))),a.map(function(t,o){return n().createElement(en,ey({key:"sideloaded-wall-".concat(o),pwapiResponse:t.pwapiResponse,offersEngineResponse:l,filterWallSvcParams:t.filterWallSvcParams,showImmediately:t.showImmediately},e.props))}))}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,eC(o.key),o)}}(o.prototype,t),Object.defineProperty(o,"prototype",{writable:!1}),o}(n().Component);e_(ej,"displayName","WallUI")})(),e.exports=i})()}}]);