"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{10348:function(e,n,t){t.d(n,{j:function(){return A}});var i=t(94213),r=t(5093),o=t(52676),a=t(75271),l=t(53307),s=t(94780),u=t(74471),c=t(81253),d=t(5399),v=t(91554),f=t(66142),h=t(81807),p=t(32591),m=t(40713),g=t(92230),b=(0,a.lazy)(function(){return Promise.all([t.e(8609),t.e(3894)]).then(t.bind(t,48609)).then(function(e){return{default:e.BookmarkButton}})}),y=(0,a.lazy)(function(){return t.e(6074).then(t.bind(t,26074)).then(function(e){return{default:e.CommentsButton}})}),w=(0,a.lazy)(function(){return Promise.all([t.e(4588),t.e(7921)]).then(t.bind(t,94588)).then(function(e){return{default:e.GiftShare}})}),k=(0,a.lazy)(function(){return t.e(1408).then(t.bind(t,81408)).then(function(e){return{default:e.PrintButton}})}),_=(0,a.lazy)(function(){return Promise.all([t.e(6131),t.e(9835)]).then(t.bind(t,96131)).then(function(e){return{default:e.AiOverviewAction}})}),x=(0,a.lazy)(function(){return Promise.all([t.e(6131),t.e(9835)]).then(t.bind(t,96131)).then(function(e){return{default:e.AiOverviewBox}})}),j=(0,a.lazy)(function(){return Promise.resolve().then(t.bind(t,32299)).then(function(e){return{default:e.StickyPlayerTrigger}})}),T=(0,u.a)(c.a,{display:"flex",placeItems:"center",gap:"$075","@media print":{display:"none"},variants:{isCenteredNS:{true:{"@notSm":{justifyContent:"center"}}},hasListenBtn:{true:{"& > div:first-child":{borderRadius:"$round",padding:"$050","@hover":{"&:hover":{background:"$alpha500"}},"& > div:first-child":{margin:0,padding:0}}}},theme:{dark:{"& .overrideStyles":{color:"$gray0-static","@hover":{"&:hover":{background:"$alpha500-static"}}}},light:{"& .overrideStyles":{color:"$gray700-static","@hover":{"&:hover":{background:"$alpha500-static"}}}}},isOnBlackTopper:{true:{"& .overrideStyles":{"@hover":{"&:hover":{background:"$alpha500"}}}}}},compoundVariants:[{hasListenBtn:!0,theme:"dark",css:{"& > div:first-child":{"@hover":{"&:hover":{background:"$alpha500-static"}}}}},{hasListenBtn:!0,theme:"light",css:{"& > div:first-child":{"@hover":{"&:hover":{background:"$alpha500-static"}}}}},{hasListenBtn:!0,isOnBlackTopper:!0,css:{"& > div:first-child":{"@hover":{"&:hover":{background:"$alpha500"}}}}}]}),A=function(e){var n=e.className,t=e.css,u=e.enableAiOverview,c=e.isOnBlackTopper,A=void 0!==c&&c,P=e.pageType,C=void 0===P?p.rw.ARTICLE_PAGE:P,S=e.theme,L=(0,r._)((0,l.B)(),1)[0],E=(0,v.bp)().globalContent,O=(0,m.l)(void 0===u||u),R=(0,f.$Y)(),I=R.articleProperties,B=I.isAudio,N=I.isCenteredLayout,$=I.isRecipe,V=I.topperLayout,z=R.hasComments,G=V===f.We.Immersive,M=V===f.We.SplitLeft||V===f.We.SplitRight,F=(0,a.useMemo)(function(){return B?(0,d.N)(E):null},[E]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T,{className:(0,s.k)("",{className:void 0===n?"":n,"wpds-dark":A}),css:void 0===t?{}:t,"data-testid":"article-actions-bar",hasListenBtn:!!F,isCenteredNS:N&&!G&&!M,isOnBlackTopper:A,theme:S,children:(0,o.jsx)(a.Suspense,{fallback:(0,o.jsxs)(o.Fragment,{children:[F&&(0,o.jsx)(g.H,{topperTheme:S,width:"74px"}),(null==O?void 0:O.showAiOverviewAction)&&(0,o.jsx)(g.c,{topperTheme:S}),!L&&(0,o.jsx)(g.c,{topperTheme:S}),(0,o.jsx)(g.c,{topperTheme:S}),z&&(0,o.jsx)(g.H,{topperTheme:S}),$&&(0,o.jsx)(g.c,{topperTheme:S})]}),children:(0,o.jsxs)(h.u,{children:[F?(0,o.jsx)(j,{audioProps:F,isOutlinedStyle:!0,showDurationOnMobile:!0,showPlaybackText:!1,triggerTheme:S}):null,(null==O?void 0:O.showAiOverviewAction)?(0,o.jsx)(_,{clickHandler:function(){O.setIsVisible(!O.isVisible)}}):null,L?null:(0,o.jsx)(w,{}),(0,o.jsx)(b,{pageType:C}),z?(0,o.jsx)(y,{buttonTheme:S}):null,$?(0,o.jsx)(k,{}):null]})})}),O.isVisible&&O.showAiOverviewAction?(0,o.jsx)(h.Z,{children:(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)("div",{}),children:(0,o.jsx)(x,(0,i._)({},O))})}):null]})}},92230:function(e,n,t){t.d(n,{H:function(){return h},c:function(){return f}});var i=t(94213),r=t(32586),o=t(25659),a=t(5093),l=t(52676);t(75271);var s=t(23137),u=t(92165),c=t(74471),d={gradientRatio:.8,speed:2},v=(0,c.a)(s.ZP,{size:"$200",viewBox:"0 0 480 40","& .rectangle":{rx:c.f.sizes["100"],ry:c.f.sizes["100"]}}),f=function(e){var n,t,s=e.topperTheme,f=(0,o._)(e,["topperTheme"]),h=(0,a._)((0,u._)("prefers-color-scheme",void 0),1)[0],p=s||"dark"!==h?null===c.f||void 0===c.f?void 0:null===(t=c.f.colors.alpha500)||void 0===t?void 0:t.value:null===c.f||void 0===c.f?void 0:null===(n=c.f.colors["alpha500-invert"])||void 0===n?void 0:n.value;return(0,l.jsx)(v,(0,r._)((0,i._)((0,r._)((0,i._)({},d),{backgroundColor:p,foregroundColor:p}),f),{children:(0,l.jsx)("rect",{className:"rectangle",x:"0",y:"0",width:"100%",height:"100%"})}))},h=function(e){var n,t,s=e.topperTheme,f=e.width,h=(0,o._)(e,["topperTheme","width"]),p=(0,a._)((0,u._)("prefers-color-scheme",void 0),1)[0],m=s||"dark"!==p?null===(t=c.f.colors.alpha500)||void 0===t?void 0:t.value:null===(n=c.f.colors["alpha500-invert"])||void 0===n?void 0:n.value;return(0,l.jsx)(v,(0,r._)((0,i._)((0,r._)((0,i._)({},d),{backgroundColor:m,foregroundColor:m}),h),{css:{width:void 0===f?"$300":f},children:(0,l.jsx)("rect",{className:"rectangle",x:"0",y:"0",width:"100%",height:"100%"})}))}},40713:function(e,n,t){t.d(n,{a:function(){return y},l:function(){return b}});var i=t(5093),r=t(52676),o=t(80908),a=t(74471),l=t(44962),s=t(61185),u=t(75271),c=t(91554),d=t(66142),v=t(46178),f=t(39436),h=t(35242),p=t(48675),m=t(33960),g=(0,a.a)(l.a,{"&.overrideStyles":{border:"none"}}),b=function(){var e,n=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i._)((0,u.useState)(!1),2),r=t[0],o=t[1],a=(0,i._)((0,u.useState)(),2),l=a[0],s=a[1],g=(0,c.bp)().globalContent,b=(0,d.$Y)().articleProperties,y=(0,v.S)().showFullArticleContent,w=(0,f.Z2)(g),k=null==g?void 0:null===(e=g.summaries)||void 0===e?void 0:e.takeaways,_=(null==k?void 0:k.approved)||!1,x=(null==k?void 0:k.items)||[],j=(0,h.ye)("enableKeyTakeaways"),T=(0,h.ye)("enableRealtimeSummary"),A=(0,u.useMemo)(function(){return n&&!((null==b?void 0:b.isAdvice)||(null==b?void 0:b.isBrief)||(null==b?void 0:b.isElectionArticle)||(null==b?void 0:b.isFoodArticle)||(null==b?void 0:b.isInteractive)||(null==b?void 0:b.isLiveArticle)||(null==b?void 0:b.isLiveChat)||(null==b?void 0:b.isObituary)||(null==b?void 0:b.isOpinion)||(null==b?void 0:b.isPhotographyArticle)||(null==b?void 0:b.isPublicRelationsArticle)||(null==b?void 0:b.isRealEstateListing)||(null==b?void 0:b.isRecipe)||(null==b?void 0:b.isTabletArticle)||(null==b?void 0:b.isWashPostLive)||(null==b?void 0:b.isWireArticle))&&!(0,p.TL)(g)&&y&&j&&(_&&x.length>0||T)},[j,T,_,x,p.TL,n,y]);return(0,u.useEffect)(function(){A&&(!_||0===x.length)&&T&&!l&&(0,m.rC)({canonicalUrl:w,contentId:(null==g?void 0:g._id)||""}).then(s).catch(console.error)},[A]),{isVisible:r,setIsVisible:o,showAiOverviewAction:A,keyTakeawaysApproved:_,keyTakeaways:x,realtimeSummary:l}},y=function(e){var n=e.clickHandler;return(0,r.jsx)("div",{"data-testid":"ai-overview-btn",children:(0,r.jsx)(g,{"aria-label":"AI Overview",className:"overrideStyles",density:"compact",icon:"center",isOutline:!0,onClick:n,variant:"primary",children:(0,r.jsx)(s.a,{label:"",children:(0,r.jsx)(o.a,{})})})})}},33960:function(e,n,t){t.d(n,{rC:function(){return f},Fs:function(){return v},qY:function(){return h}});var i,r,o,a=t(84750),l=t(99938),s=t(9024),u=function(e){try{return new URL(e),!0}catch(e){return!1}},c=t(92974),d=["dev","sandbox"].includes((0,s.d)())?"https://searchapi-staging.washingtonpost.com":"https://searchapi.washingtonpost.com",v=(i=(0,a._)(function(e){var n,t,i;return(0,l.Jh)(this,function(r){return n=e.canonicalUrl,t=e.uuid,i={url:n,user_id:t,rating:e.rating,feedback:e.feedback,revision_id:e.revisionId,platform:"site"},[2,(0,c.X)("".concat(d,"/feedback/takeaways"),{method:"POST",body:JSON.stringify(i)})]})}),function(e){return i.apply(this,arguments)}),f=(r=(0,a._)(function(e){var n,t,i,r;return(0,l.Jh)(this,function(o){return n=e.canonicalUrl,t=e.contentId,i=u(n)?new URL(n).pathname:n,(r=new URL("".concat(d,"/realtime/summary"))).searchParams.append("url",i),r.searchParams.append("content_id",t),r.searchParams.append("platform","site"),[2,(0,c.X)(r.toString(),{method:"GET"})]})}),function(e){return r.apply(this,arguments)}),h=(o=(0,a._)(function(e){var n,t,i,r;return(0,l.Jh)(this,function(o){return n=e.canonicalUrl,t=e.feedback,i=e.rating,r={url:n,user_id:e.uuid,rating:Number(i),feedback:t,platform:"site"},[2,(0,c.X)("".concat(d,"/realtime/feedback"),{method:"POST",body:JSON.stringify(r)})]})}),function(e){return o.apply(this,arguments)})},32591:function(e,n,t){t.d(n,{CE:function(){return r},Do:function(){return s},I_:function(){return l},P7:function(){return a},fC:function(){return u},rw:function(){return o}});var i=t(11660),r={Dismiss:"dismiss",Impression:"impression",SignIn:"signin",ViewOffer:"view-offer"},o={ARTICLE_PAGE:"article-page",RECIPE_PAGE:"recipe-page",RECIPE_FINDER:"recipe-finder"},a="https://subscribe.washingtonpost.com/static/images/icon-pasta.svg",l="profile-save-story-non-subs-",s=function(e,n,t){var o=t.isSub,a=t.isTerminatedSub,s=t.userId,u=n.replace("page","template"),c=e===r.SignIn||e===r.ViewOffer,d="".concat(l).concat(u,"-").concat(e).concat(c?"-click":""),v="anonymous-users";o&&s&&(v="registered-users"),a&&(v="terminated-subscribers"),(0,i.Nf)(d,"profile",v,{})},u=function(e,n){return n?"Get access to your previously saved ".concat(e===o.ARTICLE_PAGE?"stories":"recipes,"," and add more."):"".concat(e===o.ARTICLE_PAGE?"Read saved stories later":"Browse your saved recipes"," on any device.")}},35242:function(e,n,t){t.d(n,{Mw:function(){return v},Oz:function(){return d},VN:function(){return f},ye:function(){return c}});var i=t(5093),r=t(9024),o=t(51484),a=t(91554),l=t(47805),s=t(75271),u={dev:"feature-flags-development",sandbox:"feature-flags-staging",prod:"feature-flags-production"},c=function(e){var n,t=(0,(0,a.JZ)().getContent)({source:u[(0,r.d)()]});return!!(null==t?void 0:null===(n=t[e])||void 0===n?void 0:n.enabled)},d=function(e){var n,t=(0,(0,a.JZ)().getContent)({source:u[(0,r.d)()]});return(null==t?void 0:null===(n=t[e])||void 0===n?void 0:n.additionalProperties)||{}},v=function(e,n){var t=(0,i._)((0,s.useState)(!1),2),r=t[0],o=t[1],a=(0,l.ye)({cookieName:"wp_fe_".concat(e),cookieValue:"1"}).flagPresent,u=c(e);return(0,s.useEffect)(function(){(u||n&&a)&&o(!0)},[a,u]),{hasFlag:r}},f=function(e){var n=c(e);if("prod"!==(0,r.d)()){var t=(0,o.getQueryParams)(window.location.href);if((null==t?void 0:t[e])==="true")return!0;if((null==t?void 0:t[e])==="false")return!1}return n}},92974:function(e,n,t){t.d(n,{X:function(){return s}});var i=t(94213),r=t(32586),o=function(e){return new Promise(function(n){var t;return null==e?void 0:null===(t=e.json())||void 0===t?void 0:t.then(function(t){return n({status:e.status,ok:e.ok,json:t})})})},a=function(e){if(!(null==e?void 0:e.ok))throw(null==e?void 0:e.json)||e;return null==e?void 0:e.json},l={Accept:"application/json","Content-Type":"application/json"},s=function(e){var n,t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"};return null===(t=fetch(e,(0,r._)((0,i._)({},s),{headers:(0,i._)({},null==s?void 0:s.headers,l)})))||void 0===t?void 0:null===(n=t.then(o))||void 0===n?void 0:n.then(a)}},80908:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(75271),r=(0,i.forwardRef)(({title:e,titleId:n,...t},r)=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",ref:r,"aria-labelledby":n,...t},e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M8.475 1.844a.5.5 0 0 0-.95 0L6.25 5.719a.83.83 0 0 1-.53.531L1.843 7.525a.5.5 0 0 0 0 .95L5.719 9.75a.83.83 0 0 1 .531.53l1.275 3.876a.5.5 0 0 0 .95 0l1.275-3.875a.83.83 0 0 1 .53-.531l3.876-1.275a.5.5 0 0 0 0-.95L10.281 6.25a.83.83 0 0 1-.531-.53L8.475 1.843ZM6.938 6.229 8 3l1.062 3.23a1.11 1.11 0 0 0 .709.708L13 8 9.77 9.062a1.11 1.11 0 0 0-.708.709L8 13 6.938 9.77a1.11 1.11 0 0 0-.709-.708L3 8l3.23-1.062a1.11 1.11 0 0 0 .708-.709M3.334 1.458c.299 0 .541.243.541.542v2.667a.542.542 0 0 1-1.083 0V2c0-.3.243-.542.542-.542m9.332 9.335c.3 0 .542.243.542.542V14a.542.542 0 1 1-1.083 0v-2.666c0-.3.242-.542.541-.542Z",clipRule:"evenodd"}),i.createElement("path",{fillRule:"evenodd",d:"M1.458 3.335c0-.3.243-.542.542-.542h2.667a.542.542 0 0 1 0 1.083H2a.54.54 0 0 1-.542-.541m9.334 9.33c0-.299.243-.541.542-.541H14a.542.542 0 0 1 0 1.083h-2.666a.54.54 0 0 1-.542-.542",clipRule:"evenodd"}))),o=(0,i.memo)(r)}}]);