"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3145],{25141:function(n,e,o){o.d(e,{Lj:function(){return g},BP:function(){return _}});var r=o(94213),i=o(32586),a=o(5093),t=o(52676),l=o(75271),d=o(92165),u=o(32814),s=o(93115),c=o(54553),v=o(20269),S={new:{ERROR:"error",INIT:"new",OVERRIDE:"new",READY:"ready",TOGGLE:"new"},ready:{ERROR:"error",FETCHING:"fetching",TOGGLE:"ready"},fetching:{ERROR:"error",SUCCESS:"success",TOGGLE:"fetching"},success:{COPY_RESET:"success",COPY_SUCCESS:"success",COPY_UNSUCCESSFUL:"error",ERROR:"error",TOGGLE:"success",SHARE_SUCCESS:"success"},error:{ERROR:"error",FETCHING:"fetching",READY:"ready",SUCCESS:"success",TOGGLE:"error"}},C={COPY_UNSUCCESSFUL:function(n){return(0,i._)((0,r._)({},n),{hasCopyBeenClicked:!1,errorState:v.Te.Generic})},COPY_RESET:function(n){return(0,i._)((0,r._)({},n),{hasAlreadyBeenCopied:!1,hasCopyBeenClicked:!1,errorState:null})},COPY_SUCCESS:function(n){return(0,i._)((0,r._)({},n),{errorState:null,hasAlreadyBeenCopied:!0,hasCopyBeenClicked:!0})},ERROR:function(n,e){var o,a,t,l;return(0,i._)((0,r._)({},n),{errorState:e.payload.errorState,mode:null!==(t=null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.mode)&&void 0!==t?t:n.mode,remainingCount:null!==(l=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.remainingCount)&&void 0!==l?l:n.remainingCount})},INIT:function(n,e){var o,a;return(0,i._)((0,r._)({},n),{mode:null!==(a=null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.mode)&&void 0!==a?a:n.mode,navigatorVendor:e.payload.navigatorVendor,navigatorUa:e.payload.navigatorUa})},READY:function(n,e){var o,a,t;return(0,i._)((0,r._)({},n),{allowedToBypassCountError:null!==(o=e.payload.allowedToBypassCountError)&&void 0!==o&&o,hadGiftSharesInitially:e.payload.hadGiftSharesInitially,remainingCount:null!==(a=e.payload.remainingCount)&&void 0!==a?a:n.remainingCount,mode:0!==e.payload.remainingCount||e.payload.hasSharedArticle?n.mode:v.nl.Share,wasSuccessfullySharedBeforeSession:null!==(t=e.payload.hasSharedArticle)&&void 0!==t&&t})},OVERRIDE:function(n,e){var o;return(0,r._)({},n,null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.overrideState)},SHARE_SUCCESS:function(n){return(0,i._)((0,r._)({},n),{errorState:null,wasSuccessfullySharedDuringSession:!0})},SUCCESS:function(n,e){var o,a,t,l;return(0,i._)((0,r._)({},n),{remainingCount:null!==(t=null===(o=e.payload)||void 0===o?void 0:o.remainingCount)&&void 0!==t?t:n.remainingCount,url:null!==(l=null===(a=e.payload)||void 0===a?void 0:a.url)&&void 0!==l?l:n.url})},TOGGLE:function(n,e){var o,a,t,l,d,u;return(0,i._)((0,r._)({},n),{mode:null!==(l=null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.mode)&&void 0!==l?l:n.mode,hideBottomAd:null!==(d=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.hideBottomAd)&&void 0!==d?d:n.hideBottomAd,isOpenAtInline:null!==(u=null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.isOpenAtInline)&&void 0!==u?u:n.isOpenAtInline,hasCopyBeenClicked:!1})}},y=function(n,e){return Object.keys(S[n]).includes(e)},p=function(n,e){var o=C[e.type];return o?o(n,e):n},f=function(n,e){var o="string"==typeof e?{type:e,payload:{}}:e,r=y(n.current,o.type)?S[n.current][o.type]:n.current,i=p(n.data,o);return y(n.current,o.type)||(i=n.data),{current:r,data:i}},h={current:"new",data:{allowedToBypassCountError:!1,errorState:null,hadGiftSharesInitially:!1,hasAlreadyBeenCopied:!1,hasCopyBeenClicked:!1,hideBottomAd:!1,isOpenAtInline:!1,mode:v.nl.Share,navigatorVendor:"",navigatorUa:"",remainingCount:null,url:null,wasSuccessfullySharedBeforeSession:!1,wasSuccessfullySharedDuringSession:!1}},E=(0,l.createContext)({}),g=function(n){var e=n.children,o=(0,u.bp)().globalContent,S=(0,c.Z)(o),C=(0,s.S)().isSub,y=(0,a._)((0,d._)("wapo_gift_share",{dismissedUserEducationPrompt:!1,finishedFirstOpen:!1,loaded:!1}),2),p=y[0],g=y[1],_=(0,a._)((0,l.useReducer)(f,h),2),m=_[0],R=_[1],O=(0,l.useMemo)(function(){return(0,i._)((0,r._)({},m),{dispatch:R,localStorage:p,updateLS:g})},[p,m]);return(0,l.useEffect)(function(){R({type:"INIT",payload:{mode:C&&!S?v.nl.GiftShare:v.nl.Share,navigatorUa:navigator.userAgent,navigatorVendor:navigator.vendor}})},[]),(0,t.jsx)(E.Provider,{value:O,children:e})},_=function(){return(0,l.useContext)(E)}},54553:function(n,e){var o="gift-exclude";e.Z=function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.taxonomy,i=void 0===r?{}:r,a=i.seo_keywords,t=i.tags;return(n=(void 0===a?[]:a).concat(void 0===t?[]:t).map(function(n){var e=n.slug;return(e===o||n===o)&&(e||n)})).length>0&&n.includes(o)}},87755:function(n,e,o){o.d(e,{Tk:function(){return S},Ew:function(){return C},Lj:function(){return f},BP:function(){return h}});var r=o(94213),i=o(32586),a=o(5093),t=o(52676),l=o(92165),d=o(75271),u={new:{ERROR:"error",INIT:"new",OVERRIDE:"new",READY:"ready",TOGGLE:"new"},ready:{ERROR:"error",FETCHING:"fetching",TOGGLE:"ready"},fetching:{ERROR:"error",SUCCESS:"success",TOGGLE:"fetching"},success:{COPY_RESET:"success",COPY_SUCCESS:"success",COPY_UNSUCCESSFUL:"error",ERROR:"error",TOGGLE:"success",SHARE_SUCCESS:"success"},error:{ERROR:"error",FETCHING:"fetching",READY:"ready",SUCCESS:"success",TOGGLE:"error"}},s={COPY_UNSUCCESSFUL:function(n){return(0,i._)((0,r._)({},n),{hasCopyBeenClicked:!1,errorState:S.Generic})},COPY_RESET:function(n){return(0,i._)((0,r._)({},n),{hasAlreadyBeenCopied:!1,hasCopyBeenClicked:!1,errorState:null})},COPY_SUCCESS:function(n){return(0,i._)((0,r._)({},n),{errorState:null,hasAlreadyBeenCopied:!0,hasCopyBeenClicked:!0})},ERROR:function(n,e){var o,a,t;return(0,i._)((0,r._)({},n),{errorState:(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.errorState)||null,mode:(null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.mode)||n.mode,remainingCount:(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.remainingCount)||n.remainingCount})},INIT:function(n,e){var o,a,t;return(0,i._)((0,r._)({},n),{mode:(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.mode)||n.mode,navigatorVendor:(null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.navigatorVendor)||"",navigatorUa:(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.navigatorUa)||""})},READY:function(n,e){var o,a,t,l,d,u,s;return(0,i._)((0,r._)({},n),{allowedToBypassCountError:(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.allowedToBypassCountError)||!1,hadGiftSharesInitially:(null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.hadGiftSharesInitially)||!1,remainingCount:(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.remainingCount)!==void 0?null==e?void 0:null===(l=e.payload)||void 0===l?void 0:l.remainingCount:n.remainingCount,mode:(null==e?void 0:null===(d=e.payload)||void 0===d?void 0:d.remainingCount)!==0||(null==e?void 0:null===(u=e.payload)||void 0===u?void 0:u.hasSharedArticle)?n.mode:C.Share,wasSuccessfullySharedBeforeSession:(null==e?void 0:null===(s=e.payload)||void 0===s?void 0:s.hasSharedArticle)||!1})},OVERRIDE:function(n,e){var o;return(0,r._)({},n,null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.overrideState)},SHARE_SUCCESS:function(n){return(0,i._)((0,r._)({},n),{errorState:null,wasSuccessfullySharedDuringSession:!0})},SUCCESS:function(n,e){var o,a;return(0,i._)((0,r._)({},n),{remainingCount:(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.remainingCount)||n.remainingCount,url:(null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.url)||n.url})},TOGGLE:function(n,e){var o,a,t,l;return(0,i._)((0,r._)({},n),{mode:(null==e?void 0:null===(o=e.payload)||void 0===o?void 0:o.mode)||n.mode,hideBottomAd:null!==(l=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.hideBottomAd)&&void 0!==l?l:n.hideBottomAd,isOpenAtInline:(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.isOpenAtInline)||n.isOpenAtInline,hasCopyBeenClicked:!1})}},c=function(n,e){var o=s[e.event];return"function"==typeof o?o(n,e):n},v=function(n,e){var o,r,i=n.current,a=n.data,t="string"==typeof e?{event:e,payload:{}}:e,l=(o=t.event,Object.keys(u[i]).includes(o));return{current:l?(r=t.event,u[i][r]||i):i,data:l?c(a,t):a}},S={Generic:0,AuthFail:40,Unknown:2250,NoSub:2255,Timeout:10,LimitReached:2256},C={Gift:"gift",Share:"share"},y={current:"new",data:{allowedToBypassCountError:!1,errorState:null,hadGiftSharesInitially:!1,hasAlreadyBeenCopied:!1,hasCopyBeenClicked:!1,hideBottomAd:!1,isOpenAtInline:!1,mode:C.Share,navigatorVendor:"",navigatorUa:"",remainingCount:void 0,url:void 0,wasSuccessfullySharedBeforeSession:!1,wasSuccessfullySharedDuringSession:!1},dispatch:function(){},localStorage:{},updateLocalStorage:function(){}},p=(0,d.createContext)(y),f=function(n){var e=n.children,o=(0,a._)((0,l._)("wapo_gift_share",{dismissedUserEducationPrompt:!1,finishedFirstOpen:!1,loaded:!1}),2),u=o[0],s=o[1],c=y.current,S=y.data,C=(0,a._)((0,d.useReducer)(v,{current:c,data:S}),2),f=C[0],h=C[1],E=(0,d.useMemo)(function(){return(0,i._)((0,r._)({},f),{dispatch:h,localStorage:u,updateLocalStorage:s})},[u,f]);return d.useEffect(function(){h({event:"INIT",payload:{navigatorUa:navigator.userAgent,navigatorVendor:navigator.vendor}})},[]),(0,t.jsx)(p.Provider,{value:E,children:e})},h=function(){return(0,d.useContext)(p)}},20269:function(n,e,o){var r,i,a,t,l,d;o.d(e,{Te:function(){return r},n3:function(){return i},nl:function(){return a}}),(t=r||(r={}))[t.Generic=0]="Generic",t[t.AuthFail=40]="AuthFail",t[t.Unknown=2250]="Unknown",t[t.NoSub=2255]="NoSub",t[t.Timeout=10]="Timeout",t[t.LimitReached=2256]="LimitReached",(l=i||(i={})).ActionBar="ActionBar",l.Inline="Inline",l.Shortcut="Shortcut",(d=a||(a={})).GiftShare="Gift",d.Share="Share"}}]);